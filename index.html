<!DOCTYPE html>
<html style="height:100%">
  <head>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" type="text/css" href="./css/main.css">
    <script type="text/javascript" src="./js/process.js"></script>
    <script type="text/javascript" src="./js/main.js"></script>
  </head>
  <body style="height:100%; margin:0">

    <!-- SVG field -->
    <svg id="svg"
         xmlns="http://www.w3.org/2000/svg"
    	 xmlns:xlink="http://www.w3.org/1999/xlink"
	 width="100%"
	 height="100%">

      <!-- Symbol define -->
      <defs>
	<!-- Atom -->
	<g id="atom">
	  <circle r="18"
		  stroke="black"
		  stroke-width="3" />
	  <polygon fill-opacity="1"
		   fill="black"
		   points="5,-18 -5,-23 -5,-13" />
	</g>

	<!-- Process Context -->
	<g id="process_context">
	  <circle r="18"
		  stroke="black"
		  stroke-width="3" />
	  <circle r="12"
		  fill="white"
		  stroke="black"
		  stroke-width="3" />
	  <polygon fill-opacity="1" fill="black" points="5,-18 -5,-23 -5,-13" />
	</g>

	<!-- Rule arrow -->
	<g id="rule_arrow">
	  <polygon points="-18,-9 0,-9 0,-18 18,0 0,18 0,9 -18,9"
		   stroke="black"
		   stroke-width="3" />
	</g>

	<!-- Free link -->
	<g id="free_link">
	  <circle r="7"
		  fill="black" />
	</g>

	<!-- Guide -->
	<g id="guide_s">
	  <circle r="8"
		  fill="none"
		  stroke="gray"
		  stroke-width="2"
		  stroke-dasharray="3 3" />
	</g>
      </defs>

      <use xlink:href="#guide_s"
	   id="guide" x="-20" y="-20"/>

      <!-- Back ground Grid -->
      <pattern id="grid"
	       x="30"
	       y="30"
	       width="60"
	       height="60"
	       patternUnits="userSpaceOnUse">
	<rect width="61"
	      height="61"
	      fill="blue"
	      fill-opacity="0"
	      stroke="gray"
	      stroke-width="2"
	      stroke-dasharray="3 2">
      </pattern>
      <rect id="bg"
	    width="100%"
	    height="100%"
	    fill="url(#grid)"/>

      <!-- Object Pool -->
      <g id="pool" transform="translate(30,30)">
	<g id="layer1"></g>
	<g id="layer2"></g>
      </g>

      <use id="tool_atom"
	   xlink:href="#atom"
	   fill-opacity="0.2"
	   fill="red"
	   x="30"
	   y="30" />

      <rect id="tool_memb"
	    fill-opacity="0.2"
	    fill="red"
	    stroke="black"
	    stroke-width="3"
	    width="36"
	    height="36"
	    rx="8"
	    ry="8"
	    x="72"
	    y="12" />

      <use id="tool_rule"
	   xlink:href="#rule_arrow"
	   fill-opacity="0.2"
	   fill="red"
	   x="150"
	   y="30" />

      <use id="tool_process_context"
	   xlink:href="#process_context"
	   fill-opacity="0.2"
	   fill="red"
	   x="210"
	   y="30" />

      <!-- gタグをuseタグで使うと中央寄せになる -->
      <!-- gタグの中の要素でプロパティを指定していない場合あとからuseタグのなかでjsによってプロパティを変更することができる？ -->
      <!-- <def> -->
      <!-- 	<g id="hoge"> -->
      <!-- 	  <circle r="20" stroke="black"/> -->
      <!-- 	  <rect x="-10" y="-10" -->
      <!-- 		width="20" height="20" stroke="black"/> -->
      <!-- 	</g> -->
      <!-- </def> -->
      <!-- <use xlink:href="#hoge" x="60" y="60" fill="gray" -->
      <!-- 	   transform="rotate(45,60,60)"/> -->

    </svg>
  </body>
</html>
